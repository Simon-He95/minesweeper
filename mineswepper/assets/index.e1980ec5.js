import{u as M,a as _,d as m,o,c as a,b as u,e as c,r as b,F as h,f as p,t as x,n as E,g as G,h as L,i as v,j as N,k,l as j,w as A,m as D,p as H,q as O}from"./vendor.cc6bc4b5.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}};P();const R="modulepreload",y={},B="./",T=function(e,n){return!n||n.length===0?e():Promise.all(n.map(r=>{if(r=`${B}${r}`,r in y)return;y[r]=!0;const t=r.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const i=document.createElement("link");if(i.rel=t?"stylesheet":R,t||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),t)return new Promise((f,d)=>{i.addEventListener("load",f),i.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},V=T(()=>import("./index.1725147d.js"),["assets/index.1725147d.js","assets/index.41b83f30.css","assets/vendor.cc6bc4b5.js"]),F=[{path:"/",name:"home",component:V}],S=M(),I=_(S),q={"text-xl":"","mt-6":"","inline-flex":"","gap-2":""},W={key:0,"i-carbon-moon":""},Z={key:1,"i-carbon-sun":""},z=u("a",{class:"icon-btn","i-carbon-logo-github":"",rel:"noreferrer",href:"https://github.com/Simon-He95/my-vitesse-app",target:"_blank",title:"GitHub"},null,-1),K=m({setup(l){return(e,n)=>(o(),a("nav",q,[u("button",{class:"icon-btn !outline-none",onClick:n[0]||(n[0]=r=>c(I)())},[c(S)?(o(),a("div",W)):(o(),a("div",Z))]),z]))}}),g=b(!1),U=_(g),J={key:0,"i-mdi-flag":"","text-red":""},Q={key:0,"i-mdi-mine":""},X={key:1},Y=m({props:{block:null},setup(l){const e=["text-transparent","text-blue-500","text-green-500","text-orange-500","text-red-500","text-purple-500","text-pink-500","text-teal-500"];function n(r){return r.flagged?"bg-gray-500/10":r.revealed?r.mine?"bg-red-500/50":e[r.adjacentMines]:"bg-gray-500/10 hover:bg-gray-500/20"}return(r,t)=>(o(),a("button",{flex:"~","items-center":"","justify-center":"","w-10":"","h-10":"",m:"0.5",border:"1 gray-400/10",class:E(n(l.block))},[l.block.flagged?(o(),a(h,{key:0},[l.block.mine?(o(),a("div",J)):p("",!0)],64)):l.block.revealed||c(g)?(o(),a(h,{key:1},[l.block.mine?(o(),a("div",Q)):(o(),a("div",X,x(l.block.adjacentMines),1))],64)):p("",!0)],2))}}),ee=[[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1]];class te{constructor(e,n){this.width=e,this.height=n,this.WIDTH=10,this.HEIGHT=10,this.state=b(),this.reset()}get board(){var e;return(e=this.state.value)==null?void 0:e.board}reset(){this.state.value={mineGenerated:!1,gameState:"play",board:Array.from({length:this.height},(e,n)=>Array.from({length:this.width},(r,t)=>({x:t,y:n,adjacentMines:0,revealed:!1})))}}generateMines(e,n){for(const r of e)for(const t of r)Math.abs(n.x-t.x)<=1||Math.abs(n.y-t.y)<=1||(t.mine=Math.random()<.3);this.updateNumber()}updateNumber(){var e;(e=this.board)==null||e.forEach(n=>{n.forEach(r=>{r.mine||this.getSiblings(r).forEach(t=>{t.mine&&(r.adjacentMines+=1)})})})}getSiblings(e){return ee.map(([n,r])=>{const t=e.x+n,s=e.y+r;if(!(t<0||t>=this.width||s<0||s>=this.height))return this.board[s][t]}).filter(Boolean)}onRightClick(e){var n;((n=this.state.value)==null?void 0:n.gameState)==="play"&&(e.revealed||(e.flagged=!e.flagged,this.checkGameState()))}onClick(e){var n;((n=this.state.value)==null?void 0:n.gameState)==="play"&&(this.state.value.mineGenerated||(this.generateMines(this.board,e),this.state.value.mineGenerated=!0),e.revealed=!0,e.mine&&(this.state.value.gameState="lost",this.showAllMines()),this.expandZero(e),this.checkGameState())}showAllMines(){var e;(e=this.board)==null||e.flat().forEach(n=>{n.mine&&(n.revealed=!0)})}expandZero(e){e.adjacentMines===0&&this.getSiblings(e).forEach(n=>{n.revealed||(n.revealed=!0,this.expandZero(n))})}checkGameState(){var n,r;if(!((n=this.state.value)==null?void 0:n.mineGenerated))return;const e=(r=this.board)==null?void 0:r.flat();(e==null?void 0:e.every(t=>t.flagged||t.revealed))&&(e.some(t=>t.flagged&&!t.mine)?(this.state.value.gameState="lost",this.showAllMines()):this.state.value.gameState="won")}}const ne={"font-sans":"",p:"x-4 y-10",text:"center gray-700 dark:gray-200"},re=k(" Minesw "),se=k(" Minesweeper "),ie={p5:""},oe={flex:"~ gap-1","justify-center":""},ae=m({setup(l){const e=new te(10,10);G("vueswepper-state",e.state);const n=L(()=>e.board);return(r,t)=>{const s=K;return o(),a("main",ne,[u("div",null,[re,u("div",null,[se,u("div",ie,[(o(!0),a(h,null,v(c(n),(i,f)=>(o(),a("div",{key:f,flex:"~","items-center":"","justify-center":""},[(o(!0),a(h,null,v(i,(d,C)=>(o(),j(Y,{key:C,block:d,onClick:$=>c(e).onClick(d),onContextmenu:A($=>c(e).onRightClick(d),["prevent"])},null,8,["block","onClick","onContextmenu"]))),128))]))),128))]),u("div",oe,[u("button",{btn:"",onClick:t[0]||(t[0]=i=>c(U)())},x(c(g)?"DEV":"NORMAL"),1),u("button",{btn:"",onClick:t[1]||(t[1]=i=>c(e).reset())},"REST")])])]),N(s)])}}});const w=D(ae),le=H({history:O("./"),routes:F});w.use(le);w.mount("#app");export{te as G,Y as _,g as i,U as t};
